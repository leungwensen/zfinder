<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{%= filename %}</title>
    <link rel="stylesheet" href="{%= options.serverRoot %}/lib/leungwensen/pastry/build/pastry.css">
    <link rel="stylesheet" href="{%= options.serverRoot %}/lib/leungwensen/pastry/build/ui.css">
    <link rel="stylesheet" href="{%= options.serverRoot %}/lib/leungwensen/pastry/build/font/css/font-awesome.css">
    <link rel="stylesheet" href="{%= options.serverRoot %}/lib/leungwensen/pastry/build/theme/default.css">
    <!-- markdown { -->
        <link rel="stylesheet" href="{%= options.serverRoot %}/lib/sindresorhus/github-markdown-css/github-markdown.css">
        <link rel="stylesheet" href="{%= options.serverRoot %}/lib/Khan/KaTeX/katex.min.css">
        <link rel="stylesheet" href="{%= options.serverRoot %}/lib/knsv/mermaid/dist/mermaid.css">
        <link rel="stylesheet" href="{%= options.serverRoot %}/lib/knsv/mermaid/dist/mermaid.forest.css">
    <!-- } -->
    <link rel="stylesheet" href="{%= options.serverRoot %}/client/stylesheet/base.css">
    <link rel="stylesheet" href="{%= options.serverRoot %}/client/stylesheet/file-markdown.css">
</head>
<body>
    <div class="markdown-summary">
        <aside id="toc" class="toc">
            <div class="tree-holder">
            </div>
        </aside>
    </div>
    <div class="markdown-container">
        <nav class="markdown-menu">
            <div class="menu menu-horizontal">
                <ul class="menu-list">
                    <li class="menu-item">
                        <span id="btn-toggle-toc" class="menu-link fa fa-list " title="Toggle Table of Content"></span>
                    </li>
                    {% if (!isServerFile) { %}
                        <li class="menu-item">
                            <a href="{%= options.appRoot %}/markdownEditor?file={%= filename %}">
                                <span class="menu-link fa fa-pencil-square-o " title="edit"></span>
                            </a>
                        </li>
                    {% } %}
                    <li class="menu-item">
                        <a href="/">
                            <span class="menu-link fa fa-home " title="Back to Home"></span>
                        </a>
                    </li>
                    <li class="menu-item">
                        <a id="btn-tips" class="menu-link fa fa-info-circle" title="Tips" href="{%= options.serverRoot + '/doc/markdown-previewer.markdown' %}" target="_blank"></a>
                    </li>
                    <li class="menu-item">
                        <span class="menu-link">
                            {%= filename %}
                        </span>
                    </li>
                </ul>
            </div>
        </nav>
        <article class="markdown-body" id="markdown-previewer">
        </article>
    </div>
    <script>
        var GLOBAL_CONST = JSON.parse('{%= CONST_JSON %}');
    </script>
    <script id="markdown-content" type="text/template">
        {%= content %}
    </script>
    <!-- markdown { -->
        <script src="{%= options.serverRoot %}/lib/leungwensen/forked/marked.js"></script>
        <script src="{%= options.serverRoot %}/lib/Khan/KaTeX/katex.min.js"></script>
        <script src="{%= options.serverRoot %}/lib/knsv/mermaid/dist/mermaid.js"></script>
        <script src="{%= options.serverRoot %}/lib/DmitryBaranovskiy/raphael/raphael.js"></script>
        <script src="{%= options.serverRoot %}/lib/adrai/flowchart.js/release/flowchart-1.4.0.js"></script>
    <!-- } -->
    <script src="{%= options.serverRoot %}/lib/leungwensen/pastry/src/amd-loader.js"></script>
    <script src="{%= options.serverRoot %}/client/markdownPreviewer/main.js"></script>
</body>
</html>
